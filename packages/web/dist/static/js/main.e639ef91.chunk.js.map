{"version":3,"sources":["../../components/src/contexts/user-data.js","../../components/src/components/Navbar.js","../../components/src/components/Notes.js","../../components/src/App.js","index.js"],"names":["UserDataContext","React","createContext","initialState","todos","reducer","state","action","type","payload","Object","objectSpread","concat","toConsumableArray","map","todo","id","completed","filter","UserDataContextProvider","props","_React$useReducer","useReducer","_React$useReducer2","slicedToArray","value","dispatch","react_default","a","createElement","Provider","children","Consumer","styles","StyleSheet","create","navbar","flexDirection","alignSelf","height","borderTopColor","borderTopWidth","navbarItem","flex","alignItems","justifyContent","navbarItemText","fontSize","Navbar","View","style","TouchableOpacity","Text","container","flexGrow","header","title","inputContainer","defineProperty","backgroundColor","textInput","color","padding","addButton","width","addButtonText","todoList","borderBottomColor","borderBottomWidth","todoInfos","todoName","fontWeight","todoImage","borderRadius","marginRight","getUrlFromName","_ref","asyncToGenerator","regenerator_default","mark","_callee","name","response","result","wrap","_context","prev","next","fetch","sent","json","abrupt","get","stop","_x","apply","this","arguments","fetchDataFromUrl","_ref2","_callee2","url","_context2","_x2","getStorage","Storage","size","storageBackend","AsyncStorage","defaultExpires","enableCache","sync","Notes","_React$useContext","useContext","_React$useState","useState","_React$useState2","isInit","setIsInit","_React$useState3","_React$useState4","inputValue","setInputValue","useEffect","_callee3","storage","_context3","load","key","console","log","save","data","addTodo","useCallback","_ref4","_callee4","e","_context4","Date","now","includes","item","image","_x3","SafeAreaView","Image","resizeMethod","source","uri","KeyboardAvoidingView","behavior","enabled","TextInput","placeholder","placeholderTextColor","returnKeyType","onChangeText","onSubmitEditing","components_Navbar","App","AppRegistry","registerComponent","runApplication","rootTag","document","getElementById"],"mappings":"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","file":"static/js/main.e639ef91.chunk.js","sourcesContent":["import React from 'react'\nlet UserDataContext = React.createContext()\n\nconst initialState = {\n  todos: []\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"INIT_STATE\":\n      return action.payload\n    case \"ADD_TODO\":\n      return {\n        ...state,\n        todos: [...state.todos, action.payload]\n      }\n    case \"UPDATE_TODO\":\n      return {\n        ...state,\n        todos: state.todos.map(todo => {\n          if (action.payload.id === todo.id)\n            return { ...todo, ...action.payload }\n          return todo\n        })\n      }\n    case \"TOGGLE_COMPLETED\":\n      return {\n        ...state,\n        todos: state.todos.map(todo => {\n          if (action.payload === todo.id)\n            return { ...todo, completed: !todo.completed }\n          return todo\n        })\n      }\n    case \"CLEAR_COMPLETED\":\n      return {\n        ...state,\n        todos: state.todos.filter(todo => !todo.completed)\n      }\n    default:\n      return state\n  }\n}\n\nfunction UserDataContextProvider(props) {\n  const [state, dispatch] = React.useReducer(reducer, initialState)\n  const value = { state, dispatch }\n\n  return (\n    <UserDataContext.Provider value={value}>\n      {props.children}\n    </UserDataContext.Provider>\n  )\n}\n\nconst UserDataContextConsumer = UserDataContext.Consumer\n\nexport { UserDataContext, UserDataContextProvider, UserDataContextConsumer }\n","import React from 'react'\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  Image\n} from \"react-native\"\n\nconst styles = StyleSheet.create({\n  navbar: {\n    flexDirection: \"row\",\n    alignSelf: 'stretch',\n    height: 80,\n    borderTopColor: \"lightgrey\",\n    borderTopWidth: 1\n  },\n  navbarItem: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  navbarItemText: {\n    fontSize: 22\n  }\n});\n\nconst Navbar = () => {\n  return (\n    <View style={styles.navbar}>\n      <TouchableOpacity style={styles.navbarItem}>\n        <Text style={styles.navbarItemText}>My Notes</Text>\n      </TouchableOpacity>\n      <TouchableOpacity style={styles.navbarItem}>\n        <Text style={styles.navbarItemText}>My Lists</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport {\n  SafeAreaView,\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  KeyboardAvoidingView,\n  Image\n} from \"react-native\";\nimport Storage from \"react-native-storage\";\nimport AsyncStorage from '@callstack/async-storage';\nimport { get } from \"dot-prop\";\nimport { UserDataContext } from \"../contexts/user-data\";\nimport Navbar from \"../components/Navbar\";\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    flexGrow: 1,\n    justifyContent: \"center\"\n  },\n  header: {\n    justifyContent: \"center\"\n  },\n  title: {\n    fontSize: 40\n  },\n  inputContainer: {\n    alignSelf: 'stretch',\n    flexDirection: \"row\",\n    backgroundColor: \"lightgrey\",\n    alignSelf: 'stretch',\n  },\n  textInput: {\n    flex: 1,\n    fontSize: 30,\n    color: \"white\",\n    padding: 20\n  },\n  addButton: {\n    width: \"20%\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  addButtonText: {\n    fontSize: 30\n  },\n  todoList: {\n    alignSelf: 'stretch',\n    flex: 1\n  },\n  todo: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 100,\n    borderBottomColor: \"lightgrey\",\n    borderBottomWidth: 1,\n    padding: 20\n  },\n  todoInfos: {\n    flex: 1\n  },\n  todoName: {\n    fontSize: 22,\n    fontWeight: \"bold\"\n  },\n  todoImage: {\n    height: 80,\n    width: 80,\n    borderRadius: 10,\n    marginRight: 10\n  }\n});\n\nconst getUrlFromName = async name => {\n  const response = await fetch(\n    `https://api.likewiseapp.net/api/elf/url/search?secret=acf6f606-3230-40d0-a95d-a11f9d6a0de8&name=${name}`\n  );\n  const result = await response.json();\n  return get(result, \"data.0.link\");\n};\n\nconst fetchDataFromUrl = async url => {\n  const response = await fetch(\n    `https://api.likewiseapp.net/api/elf/ogs?secret=acf6f606-3230-40d0-a95d-a11f9d6a0de8&url=${url}`\n  );\n  return response.json();\n};\n\nlet storageInstance\nconst getStorage = () => storageInstance ? storageInstance : new Storage({\n  size: 1000,\n  storageBackend: AsyncStorage,\n  defaultExpires: null,\n  enableCache: true,\n  sync: {}\n})\n\nexport default () => {\n  const { state, dispatch } = React.useContext(UserDataContext);\n  const [isInit, setIsInit] = React.useState(false);\n  const [inputValue, setInputValue] = React.useState(\"\");\n\n  React.useEffect(async () => {\n    const storage = getStorage();\n    const state = await storage.load({ key: \"state\" });\n\n    console.log('state', state)\n\n    if (storage && state) {\n      dispatch({\n        type: \"INIT_STATE\",\n        payload: state\n      });\n      setIsInit(true)\n    }\n  }, []);\n\n  React.useEffect(() => {\n    const storage = getStorage();\n    if (storage && isInit) {\n      console.log('save state', state)\n      storage.save({ key: \"state\", data: state });\n    }\n  }, [state]);\n\n  const addTodo = React.useCallback(async e => {\n    setInputValue(\"\");\n\n    const id = Date.now();\n    dispatch({\n      type: \"ADD_TODO\",\n      payload: {\n        name: inputValue,\n        id,\n        completed: false\n      }\n    });\n\n    let url = inputValue;\n    if (!inputValue.includes(\"://\")) {\n      url = await getUrlFromName(inputValue);\n    }\n\n    console.log(\"url\", url);\n    const data = await fetchDataFromUrl(url);\n    console.log(\"data\", data);\n\n    await dispatch({\n      type: \"UPDATE_TODO\",\n      payload: {\n        id,\n        name: get(data, \"ograph.ogTitle\"),\n        item: {\n          image: get(data, \"ograph.ogImage.originalImage\")\n        }\n      }\n    });\n  });\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.todoList}>\n        {state.todos.map(todo => (\n          <TouchableOpacity style={styles.todo} key={todo.id}>\n            {!!(todo.item && todo.item.image) && (\n              <Image\n                style={styles.todoImage}\n                resizeMethod=\"scale\"\n                source={{\n                  uri: todo.item.image\n                }}\n              />\n            )}\n            <Text style={styles.todoName}>{todo.name}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n      <KeyboardAvoidingView behavior=\"padding\" enabled style={{ alignSelf: 'stretch' }}>\n        <View style={styles.inputContainer} behavior=\"padding\" enabled>\n          <TextInput\n            style={styles.textInput}\n            placeholder=\"Take a note...\"\n            placeholderTextColor=\"white\"\n            returnKeyType=\"done\"\n            value={inputValue}\n            onChangeText={setInputValue}\n            onSubmitEditing={addTodo}\n          />\n        </View>\n      </KeyboardAvoidingView>\n      <Navbar />\n    </SafeAreaView>\n  );\n};\n","import React from 'react'\nimport { UserDataContextProvider } from './contexts/user-data'\nimport Notes from './components/Notes'\n\nexport default () => {\n  return (\n    <UserDataContextProvider>\n      <Notes />\n    </UserDataContextProvider>\n  )\n}\n","import { AppRegistry } from 'react-native'\n\nimport App from 'components/src/App'\n\nAppRegistry.registerComponent('px', () => App)\nAppRegistry.runApplication('px', {\n  rootTag: document.getElementById('root'),\n})\n"],"sourceRoot":""}